const fs = require("fs");
const schema = require("../src/validation.schema.json");

const definitions = Object.keys(schema.definitions);

const outputBuffer = [];
outputBuffer.push(`// THIS IS AN AUTOGENERATED FILE PLEASE DO NOT MODIFY MANUALLY`);
outputBuffer.push("export enum SchemaDefinition {");

definitions.forEach((definition) => {
    outputBuffer.push(`    ${definition.toUpperCase()} = "${definition}",`);
});

outputBuffer.push("}");

fs.writeFile("../src/SchemaDefinition.ts", outputBuffer.join("\n"), { flag: "a" }, function (err) {
    if (err) {
        return console.log(err);
    }
});
